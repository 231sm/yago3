# YAGO

[![YAGO logo](http://www.mpi-inf.mpg.de/fileadmin/_migrated/RTE/RTEmagicC_yago_logo_mainpage.png.png)](https://yago-knowledge.org)

<!-- TODO: update number of entities / facts -->

YAGO is a huge semantic knowledge base, derived from Wikipedia WordNet and GeoNames. Currently, YAGO has knowledge of more than 10 million entities (like persons, organizations, cities, etc.) and contains more than 120 million facts about these entities.

YAGO is special in several ways:

* The accuracy of YAGO has been manually evaluated, proving a confirmed accuracy of 95%. Every relation is annotated with its confidence value.
* YAGO combines the clean taxonomy of WordNet with the richness of the Wikipedia category system, assigning the entities to more than 350,000 classes.
* YAGO is an ontology that is anchored in time and space. YAGO attaches a temporal dimension and a spacial dimension to many of its facts and entities.
* In addition to a taxonomy, YAGO has thematic domains such as "music" or "science" from WordNet Domains.
* YAGO extracts and combines entities and facts from 10 Wikipedias in different languages.

YAGO is at jointly developed at the [DBWeb group](http://dbweb.enst.fr/) at [Télécom ParisTech University](https://www.telecom-paristech.fr/), the [Databases and Information Systems group](http://www.mpi-inf.mpg.de/departments/databases-and-information-systems/) at [Max Planck Institute for Informatics](http://www.mpi-inf.mpg.de/home/), and [Ambiverse](https://www.ambiverse.com/).

<!-- TODO: mailing list -->

---

## Requirements

* Java 8
* Maven
* Python

## Downloads

You can download the facts generated by YAGO at its [homepage](http://www.mpi-inf.mpg.de/departments/databases-and-information-systems/research/yago-naga/yago/downloads/).

## Usage

This section shows you how to build your own YAGO repository. In that process, you will be able to define (a) what languages to cover, and (b) if relevant to you, which specific [Wikipedia](https://www.wikipedia.org/), [Wikidata](https://www.wikidata.org), and [Wikimedia Commons](https://commons.wikimedia.org) snapshots should be used during the build. Follow these steps to start the repository creation process:

### Prepare the YAGO configuration file and download the required resources

YAGO is configured using its configuration file. Use this [template](blob/master/configuration/yago.ini) to generate your own copy of that file. The following lines need adaptation:

```ini
reuse = true
yagoFolder = /Users/yago/yago3
languages = en, de, fr, nl, it, es, ro, pl, ar, fa

# Variant A
dumpsFolder = /Users/yago/yago3-dumps

# Variant B
wikipedias = /Users/yago/yago3-dumps/en/20160701/enwiki-20160701-pages-articles.xml
wikidata = /Users/yago/yago3-dumps/wikidatawiki/20160621/wikidata-20160621-all-BETA.ttl
commons_wiki = /Users/yago/yago3-dumps/commonswiki/20160621/commonswiki-20160621-pages-articles.xml
```

```yagoFolder``` denotes the directory where YAGO will put its output files. ```reuse``` indicates whether or not any previous output in that folder will be preserved or not. This feature is particularly relevant if you reconfigure the ```extractors``` parameter and would like to keep already created results around for speeding up subsequent builds. ```languages``` tells YAGO which language-specific Wikipedia snapshots will be taken into account and hence allows for building a multilingual knowledge graph. For this parameter, use [ISO 639-1 language codes](https://www.loc.gov/standards/iso639-2/php/code_list.php).

#### Variant A

The ```dumpsFolder``` denotes the directory where YAGO will download the latest versions of all required resources into. Required resources are dumps of [Wikipedia](https://www.wikipedia.org/), [Wikidata](https://www.wikidata.org), and [Wikimedia Commons](https://commons.wikimedia.org). The download needs to be invoked manually prior to running YAGO like this:

```bash
python /PATH_TO_YAGO3/scripts/dumps/downloadDumps.py -i PATH_TO_YAGOFOLDER -y PATH_TO_CONFIGURATION_FILE
```

```PATH_TO_YAGO3``` is the directory where you checked out this project to, ```PATH_TO_YAGOFOLDER``` corresponds to the ```yagoFolder``` property above, and ```PATH_TO_CONFIGURATION_FILE``` is your adapted copy of the [template](blob/master/configuration/yago.ini).

#### Variant B

Alternatively, you may choose to manually download the required resources and reference them in the configuration file (Variant B) as indicated in the aforementioned configuration snippet. That way, YAGO will pick those resources up during build, and no further steps are necessary at this time.

### Run YAGO

Once the configuration file has been prepared and all required resources have been downloaded, a YAGO build can be started like this:

```bash
cd PATH_TO_YAGO3
export MAVEN_OPTS=-Xmx212G
mvn clean verify exec:java -Dexec.args=PATH_TO_CONFIGURATION_FILE
```

Again, ```PATH_TO_YAGO3``` is the directory where you checked out this project to and ```PATH_TO_CONFIGURATION_FILE``` is your adapted copy of the [template](blob/master/configuration/yago.ini). Allocating 212G of main memory to YAGO is a reasonable estimate which typically works fine, but of course this highly depends on the number of languages you execute the build for. Increase this value if necessary.

Once processing finished, all output can be found in the directory denoted by ```yagoFolder```in your configuration file.

---

# Architecture 

The overall goal of the YAGO architecture is to enable cooperation of several contributors, facilitate debugging and maintenance, and allow users to download only particular pieces of YAGO ("YAGO a la carte").  In short: YAGO is modular, both in code and in data.

The current architecture pursues the goal of modularity at the expense of longer running times and inefficiency.  The rationale is that we do not care if the extraction runs a few hours longer, if we can save a few hours of human work in return.

## Themes

The YAGO data is split into "themes". Themes can overlap, but should not. The union of all themes constitutes "YAGO full".

The class basics.Theme implements a theme.

## Extractors

An extractor is a unit of code that
* takes as input
  - one or more themes
  - a raw data file
* produces as output one or more themes

Every extraction module shall follow this scheme, i.e., implement extractors.Extractor. This defines a dependency graph of extractors. Extractors are scheduled in the right order and called by main.ParallelCaller.

Common postprocessing steps, e.g., translating entities, shall be implemented as `FollowUpExtractor`.

## Final Themes 

Themes that are free of duplicates and ready for export are called "final themes". These live in the same folder as the other themes, but start with "yago...".  Final themes are constructed by finalExtractors.

## Techniques 

Facts can have a meta-fact `<extractionSource>`. This meta-fact can have a meta-fact `<extractionTechnique>`.  There should be a finite set of techniques that does not grow with the data.

Facts that do not have such an annotation are assumed to be trivially clean.

## Packages

Extractors are split into the following packages:

* deduplicators: extractors aggregating results from previous ones, removing duplicate facts
* extractors: abstract classes specifying the interfaces for extractors
* followUp: classes implementing filtering and mapping postprocessing steps
* fromGeonames: extractors working on Geonames
* fromOtherSources: extractors working on Wordnet, Wikidata, etc.
* fromThemes: extractors depending on other extractors
* fromWikipedia: extractors working on Wikipedia dumps

# Format 

The data format of YAGO is RDF/Turtle, as specified here: https://www.w3.org/TR/turtle/#sec-grammar-grammar 

## Design Choices 
 
Turtle leaves some design choices open. We make the following conventions:
1. YAGO entities are always given as relative URIs `<Albert_Einstein>`. This is because qnames may not contain certain characters
2. All entities from standard namespaces are given as qnames This is to save space and keep readability.
3. All other entities are given as full URIs `<http://...>`
4. The encoding is UTF-8, backslash encodings are used only if necessary, and `\uXXXX` encodings are avoided wherever possible.

## Entities 

We use predefined RDF entities wherever possible, in particular 

    rdfs:domain, skos:prefLabel, rdfs:range, rdfs:label, rdfs:subClassOf,  
    rdfs:subPropertyOf, rdf:type, rdf:Resource, xsd:boolean, rdf:Class, 
    xsd:date, xsd:duration, rdf:Statement, xsd:integer, xsd:nonNegativeInteger, 
    xsd:decimal, xsd:decimal, rdf:Property, xsd:string, xsd:gYear, owl:Thing

We integrate XML types into the YAGO literal type hierarchy. We use YAGO literal types as literal types in RDF. The root of the taxonomy of individuals (formerly "entity") is owl:Thing.

## N4 

We extend RDF/Turtle by giving each triple an optional (!) fact id. This id is given in the line before the fact as a comment of the form

     #@ XXX

where XXX is a valid Turtle id for the following fact.

## Implementation 

Currently, all facts are in this format even inside the running program (i.e., inside Fact, FactCollection, etc.).
The implementation has to convert specifically to a Java String in order to work with real (16-bit) Java strings. This is done by FactComponent.asJavaString()

All frequent YAGO and RDFS string constants are declared in basics.YAGO and basics.RDFS, respectively.



## Developers

The YAGO development is lead by (in alphabetical order):
* [Daniel Bär](https://www.linkedin.com/in/daniel-baer/)
* [Johannes Hoffart](http://www.mpi-inf.mpg.de/~jhoffart)
* [Thomas Rebele](https://thomasrebele.org) 
* [Fabian Suchanek](https://suchanek.name)

Contributors include (in alphabetical order):
* Joanna Biega
* Erdal Kuzey
* Farzaneh Mahdisoltani
* Ghazaleh Haratinezhad Torbati

## License

The source code of YAGO is licensed under GNU General Public License, version 3 or later.

The files generated by YAGO are licensed under Creative-Commons Attribution License.

## Licenses of used libraries

* Javatools: [Apache License v2.0](http://www.apache.org/licenses/LICENSE-2.0)
* Basics3: [Apache License v2.0](http://www.apache.org/licenses/LICENSE-2.0)
* JUnit: [Eclipse Public License 1.0](http://junit.org/junit4/license.html)

## Citing YAGO

If you use YAGO in your research, please cite YAGO:

    @inproceedings{YAGO2016,
      author    = {Thomas Rebele and
                   Fabian M. Suchanek and
                   Johannes Hoffart and
                   Joanna Biega and
                   Erdal Kuzey and
                   Gerhard Weikum},
      title     = {{YAGO:} {A} Multilingual Knowledge Base from Wikipedia, Wordnet, and
                   Geonames},
      booktitle = {The Semantic Web - {ISWC} 2016 - 15th International Semantic Web Conference,
                   Kobe, Japan, October 17-21, 2016, Proceedings, Part {II}},
      pages     = {177--185},
      year      = {2016},
      url       = {https://doi.org/10.1007/978-3-319-46547-0_19},
      doi       = {10.1007/978-3-319-46547-0_19},
    }

## References

* Biega, Joanna, Erdal Kuzey, and Fabian M. Suchanek. 2013. “Inside YAGO2s: A Transparent Information Extraction Architecture.” In Proceedings of the 22nd International Conference on World Wide Web Companion, 325–328. International World Wide Web Conferences Steering Committee. 
* Hoffart, Johannes, Fabian M. Suchanek, Klaus Berberich, Edwin Lewis-Kelham, Gerard De Melo, and Gerhard Weikum. 2011. “YAGO2: Exploring and Querying World Knowledge in Time, Space, Context, and Many Languages.” In Proceedings of the 20th International Conference Companion on World Wide Web, 229–232. ACM. 
* Hoffart, Johannes, Fabian M Suchanek, Klaus Berberich, and Gerhard Weikum. 2013. “YAGO2: A Spatially and Temporally Enhanced Knowledge Base from Wikipedia.” Artificial Intelligence 194: 28–61.
* Kasneci, Gjergji, Maya Ramanath, Fabian Suchanek, and Gerhard Weikum. 2009. “The YAGO-NAGA Approach to Knowledge Discovery.” ACM SIGMOD Record 37 (4): 41–47.
* Mahdisoltani, Farzaneh, Joanna Biega, and Fabian Suchanek. 2015. “YAGO3: A Knowledge Base from Multilingual Wikipedias.” In 7th Biennial Conference on Innovative Data Systems Research. CIDR 2015. 
* Suchanek, Fabian M., Johannes Hoffart, Erdal Kuzey, and Edwin Lewis-Kelham. 2013. “YAGO2s: Modular High-Quality Information Extraction with an Application to Flight Planning.” In BTW, 214:515–518. 
* Suchanek, Fabian M., Gjergji Kasneci, and Gerhard Weikum. 2007. “Yago: A Core of Semantic Knowledge.” In Proceedings of the 16th International Conference on World Wide Web, 697–706. ACM. 
* Suchanek, Fabian M., Gjergji Kasneci, and Gerhard Weikum. 2008. “Yago: A Large Ontology from Wikipedia and Wordnet.” Web Semantics: Science, Services and Agents on the World Wide Web 6 (3): 203–217.
* Rebele, Thomas, Fabian M. Suchanek, Johannes Hoffart, Joanna Biega, Erdal Kuzey, and Gerhard Weikum. 2016. “YAGO: A Multilingual Knowledge Base from Wikipedia, Wordnet, and Geonames.” In The Semantic Web - ISWC 2016 - 15th International Semantic Web Conference, Kobe, Japan, October 17-21, 2016, Proceedings, Part II, 177–185. doi:10.1007/978-3-319-46547-0_19.

